// Test opérateur NOT complexe dans nœuds beta
type Employee(id: string, name: string, department: string, active: bool)
type Project(id: string, lead_id: string, status: string, budget: number)

rule r1 : {e: Employee, p: Project} / e.id == p.lead_id AND e.active == true AND NOT (p.status == "cancelled") ==> active_project_lead(e.id, p.id)
rule r2 : {e: Employee, p: Project} / e.id == p.lead_id AND NOT (e.active == false OR p.budget < 1000) AND p.status == "active" ==> qualified_project_lead(e.id, p.id)
rule r3 : {e: Employee, p: Project} / e.id == p.lead_id AND e.active == true AND NOT (e.department IN ["temp", "intern"]) ==> permanent_project_lead(e.id, p.id)

Employee(id:E001, name:Alice, department:engineering, active:true)
Employee(id:E002, name:Bob, department:temp, active:true)
Employee(id:E003, name:Charlie, department:marketing, active:false)
Employee(id:E004, name:Diana, department:sales, active:true)
Project(id:P001, lead_id:E001, status:active, budget:5000)
Project(id:P002, lead_id:E002, status:cancelled, budget:2000)
Project(id:P003, lead_id:E003, status:completed, budget:800)
Project(id:P004, lead_id:E004, status:active, budget:1500)
