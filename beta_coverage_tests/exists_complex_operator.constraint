// Test opérateur EXISTS complexe dans nœuds beta
type Customer : <id: string, name: string, segment: string, country: string>
type Order : <id: string, customer_id: string, amount: number, date: string>
type Payment : <id: string, order_id: string, method: string, status: string>

{c: Customer, o: Order} / c.id == o.customer_id AND o.amount > 0 AND EXISTS (p: Payment / p.order_id == o.id AND p.status == "completed") ==> paid_customer_order(c.id, o.id)
{c: Customer, o: Order} / c.id == o.customer_id AND o.amount >= 100 AND EXISTS (p: Payment / p.order_id == o.id AND p.method == "credit_card") ==> credit_customer_order(c.id, o.id)
{c: Customer} / c.segment == "premium" AND c.country != "" AND EXISTS (o: Order / o.customer_id == c.id AND o.amount > 1000) ==> premium_high_value_customer(c.id)
