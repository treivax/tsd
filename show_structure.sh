#!/bin/bash

echo "ğŸ¯ NOUVELLE STRUCTURE DU PROJET TSD"
echo "=================================="
echo ""

echo "ğŸ“ Structure complÃ¨te:"
echo ""
tree . || find . -type d | sed 's|[^/]*/|  |g;s|^  ||'

echo ""
echo "ğŸ“¦ Modules disponibles:"
echo ""

echo "ğŸ”§ CLIENT ETCD"
echo "  â”œâ”€â”€ main.go              # Client principal"  
echo "  â”œâ”€â”€ operations.go        # OpÃ©rations de base"
echo "  â”œâ”€â”€ put.go              # OpÃ©rations PUT"
echo "  â”œâ”€â”€ take.go             # OpÃ©rations TAKE"
echo "  â””â”€â”€ go.mod              # DÃ©pendances etcd"
echo ""

echo "ğŸ“ MODULE CONSTRAINT"
echo "  â”œâ”€â”€ constraint/"
echo "  â”‚   â”œâ”€â”€ api.go                    # API publique"
echo "  â”‚   â”œâ”€â”€ constraint_types.go       # Types d'AST" 
echo "  â”‚   â”œâ”€â”€ constraint_utils.go       # Utilitaires"
echo "  â”‚   â”œâ”€â”€ parser.go                 # Parser gÃ©nÃ©rÃ©"
echo "  â”‚   â”œâ”€â”€ build.sh                  # Build du module"
echo "  â”‚   â”œâ”€â”€ go.mod                    # Config module"
echo "  â”‚   â”œâ”€â”€ cmd/main.go               # ExÃ©cutable"
echo "  â”‚   â”œâ”€â”€ grammar/constraint.peg    # Grammaire PEG"
echo "  â”‚   â”œâ”€â”€ tests/test_*.txt          # Fichiers de test"
echo "  â”‚   â””â”€â”€ docs/*.md                 # Documentation"
echo ""

echo "ğŸš€ Commandes principales:"
echo ""
echo "  ./build.sh                              # Build complet du projet"
echo "  cd constraint && ./build.sh             # Build du module constraint"  
echo "  cd constraint/cmd && ./constraint-parser ../tests/test_input.txt"
echo "  go build -o etcd-client main.go ...     # Build client etcd"
echo ""

echo "ğŸ“š Documentation:"
echo "  â€¢ README.md                             # Ce fichier"
echo "  â€¢ constraint/README.md                  # Doc du module"
echo "  â€¢ constraint/docs/GUIDE_CONTRAINTES.md # Guide complet"
echo "  â€¢ constraint/docs/TUTORIEL_CONTRAINTES.md # Tutoriel"
echo ""

echo "âœ… Avantages de cette restructuration:"
echo "  âœ“ Module constraint rÃ©utilisable et autonome"
echo "  âœ“ SÃ©paration claire des responsabilitÃ©s" 
echo "  âœ“ Documentation complÃ¨te et accessible"
echo "  âœ“ Tests organisÃ©s et maintenables"
echo "  âœ“ API Go publique pour intÃ©gration"
echo "  âœ“ Scripts de build sÃ©parÃ©s et ciblÃ©s"