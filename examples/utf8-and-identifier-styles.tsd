// Exemples dÃ©montrant le support UTF-8 et les styles d'identifiants (camelCase, snake_case)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. SUPPORT UTF-8 DANS LES CHAÃNES DE CARACTÃˆRES
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

type Person(name: string, city: string, greeting: string)

// FranÃ§ais - Accents et caractÃ¨res spÃ©ciaux
rule french_names : {p:Person} / p.name == "FranÃ§ois" ==> print("Bonjour FranÃ§ois!")
Person(name: "FranÃ§ois", city: "Paris", greeting: "EnchantÃ©")

// Allemand - Umlauts
rule german_cities : {p:Person} / p.city == "MÃ¼nchen" ==> print("Willkommen in MÃ¼nchen")
Person(name: "Hans", city: "MÃ¼nchen", greeting: "Guten Tag")

// Espagnol - Ã± et caractÃ¨res spÃ©ciaux
rule spanish_greeting : {p:Person} / p.greeting == "Â¡Hola seÃ±or!" ==> print("EspaÃ±ol detectado")
Person(name: "JosÃ©", city: "Madrid", greeting: "Â¡Hola seÃ±or!")

// Russe - Cyrillique
rule russian_cities : {p:Person} / p.city == "ĞœĞ¾ÑĞºĞ²Ğ°" ==> print("Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ")
Person(name: "Ğ˜Ğ²Ğ°Ğ½", city: "ĞœĞ¾ÑĞºĞ²Ğ°", greeting: "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚")

// Chinois - CaractÃ¨res CJK
rule chinese_cities : {p:Person} / p.city == "åŒ—äº¬" ==> print("æ¬¢è¿")
Person(name: "ææ˜", city: "åŒ—äº¬", greeting: "ä½ å¥½")

// Japonais - Hiragana, Katakana, Kanji
rule japanese_names : {p:Person} / p.name == "ç”°ä¸­ã•ã‚“" ==> print("ã„ã‚‰ã£ã—ã‚ƒã„ã¾ã›")
Person(name: "ç”°ä¸­ã•ã‚“", city: "æ±äº¬", greeting: "ã“ã‚“ã«ã¡ã¯")

// Arabe - Script arabe (RTL)
rule arabic_cities : {p:Person} / p.city == "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©" ==> print("Ù…Ø±Ø­Ø¨Ø§")
Person(name: "Ù…Ø­Ù…Ø¯", city: "Ø§Ù„Ù‚Ø§Ù‡Ø±Ø©", greeting: "Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…")

// Grec - Alphabet grec
rule greek_symbols : {p:Person} / p.greeting == "Î“ÎµÎ¹Î± ÏƒÎ¿Ï…" ==> print("Î•Î»Î»Î·Î½Î¹ÎºÎ¬")
Person(name: "ÎÎ¯ÎºÎ¿Ï‚", city: "Î‘Î¸Î®Î½Î±", greeting: "Î“ÎµÎ¹Î± ÏƒÎ¿Ï…")

// Emoji - CaractÃ¨res Unicode Ã©tendus
type Message(text: string, emoji: string)
rule emoji_detection : {m:Message} / m.emoji == "ğŸ˜Š" ==> print("Happy emoji detected!")
Message(text: "Hello World", emoji: "ğŸ˜Š")


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. IDENTIFIANTS AVEC CARACTÃˆRES UTF-8
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// FranÃ§ais - Identifiants avec accents
type Personne(nom: string, prÃ©nom: string, Ã¢ge: number)
rule rÃ¨gle_majoritÃ© : {p:Personne} / p.Ã¢ge >= 18 ==> print("Majeur")
Personne(nom: "Dupont", prÃ©nom: "FranÃ§ois", Ã¢ge: 25)

// Russe - Identifiants en cyrillique
type ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ(Ğ¸Ğ¼Ñ: string, Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚: number)
rule Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ¾_Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ : {u:ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ} / u.Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚ > 18 ==> print("Ğ’Ğ·Ñ€Ğ¾ÑĞ»Ñ‹Ğ¹")
ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ(Ğ¸Ğ¼Ñ: "Ğ˜Ğ²Ğ°Ğ½", Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚: 25)

// Chinois - Identifiants en caractÃ¨res chinois
type ç”¨æˆ·(å§“å: string, å¹´é¾„: number)
rule å¹´é¾„è§„åˆ™ : {u:ç”¨æˆ·} / u.å¹´é¾„ > 18 ==> print("æˆå¹´")
ç”¨æˆ·(å§“å: "ææ˜", å¹´é¾„: 25)


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. STYLES D'IDENTIFIANTS : camelCase
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

type CustomerOrder(orderId: string, customerId: string, totalAmount: number, orderDate: string)

action sendNotificationEmail(recipientEmail: string, orderTotal: number)
action updateCustomerRecord(customerId: string, lastOrderDate: string)

rule processLargeOrder : {o:CustomerOrder} /
    o.totalAmount > 1000 ==>
    sendNotificationEmail("admin@example.com", o.totalAmount),
    updateCustomerRecord(o.customerId, o.orderDate)

CustomerOrder(
    orderId: "ORD-12345",
    customerId: "CUST-001",
    totalAmount: 1500,
    orderDate: "2025-01-15"
)


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. STYLES D'IDENTIFIANTS : snake_case
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

type product_inventory(
    product_id: string,
    product_name: string,
    stock_quantity: number,
    reorder_level: number
)

action send_reorder_alert(product_name: string, current_stock: number)
action update_inventory_status(product_id: string)

rule check_low_stock : {p:product_inventory} /
    p.stock_quantity < p.reorder_level ==>
    send_reorder_alert(p.product_name, p.stock_quantity),
    update_inventory_status(p.product_id)

product_inventory(
    product_id: "PROD-001",
    product_name: "Widget Pro",
    stock_quantity: 5,
    reorder_level: 10
)


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 5. MÃ‰LANGE DE STYLES : camelCase + snake_case
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

type EmployeeRecord(
    employee_id: string,
    firstName: string,
    lastName: string,
    department_name: string,
    salaryAmount: number,
    hire_date: string
)

action calculateBonus(employeeId: string, base_amount: number)
action send_hr_notification(employee_name: string)

rule year_end_bonus : {e:EmployeeRecord} /
    e.salaryAmount > 50000 and
    LENGTH(e.hire_date) > 0 ==>
    calculateBonus(e.employee_id, e.salaryAmount),
    send_hr_notification(e.firstName)

EmployeeRecord(
    employee_id: "EMP-123",
    firstName: "Alice",
    lastName: "Johnson",
    department_name: "Engineering",
    salaryAmount: 75000,
    hire_date: "2020-03-15"
)


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 6. IDENTIFIANTS SPÃ‰CIAUX
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// Identifiants commenÃ§ant par underscore (convention pour Ã©lÃ©ments privÃ©s/internes)
type _InternalConfig(name: string, value: number)
rule _internal_check : {c:_InternalConfig} / c.value > 0 ==> print("Config valid")
_InternalConfig(name: "max_connections", value: 100)

// Identifiants avec plusieurs underscores consÃ©cutifs
type Debug__Info(message__text: string, level__value: number)
rule debug__logger : {d:Debug__Info} / d.level__value > 5 ==> print("High priority")
Debug__Info(message__text: "System alert", level__value: 8)

// Identifiants avec chiffres
type Product2(name: string, version2: number, model3x: string)
rule check_version_2 : {p:Product2} / p.version2 >= 2 ==> print("Version 2+")
Product2(name: "Widget", version2: 3, model3x: "Pro")


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 7. COMBINAISON UTF-8 + STYLES D'IDENTIFIANTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// FranÃ§ais avec snake_case
type client_franÃ§ais(nom_complet: string, ville_rÃ©sidence: string, Ã¢ge_actuel: number)
rule vÃ©rification_Ã¢ge : {c:client_franÃ§ais} /
    c.Ã¢ge_actuel >= 18 and c.ville_rÃ©sidence == "Paris" ==>
    print("Client parisien majeur")

client_franÃ§ais(
    nom_complet: "Jean-FranÃ§ois Dupont",
    ville_rÃ©sidence: "Paris",
    Ã¢ge_actuel: 30
)

// MÃ©lange multilingue
type InternationalUser(
    userId: string,
    åå‰: string,
    Ğ¸Ğ¼Ñ: string,
    prÃ©nom: string,
    user_location: string
)

rule international_rule : {u:InternationalUser} /
    LENGTH(u.åå‰) > 0 or
    LENGTH(u.Ğ¸Ğ¼Ñ) > 0 or
    LENGTH(u.prÃ©nom) > 0 ==>
    print("International user detected")

InternationalUser(
    userId: "USER-001",
    åå‰: "å¤ªéƒ",
    Ğ¸Ğ¼Ñ: "Ğ˜Ğ²Ğ°Ğ½",
    prÃ©nom: "FranÃ§ois",
    user_location: "Global"
)


// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 8. CAS D'USAGE AVANCÃ‰S
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// AgrÃ©gations avec identifiants UTF-8 et styles mixtes
type Transaction(å®¢æˆ·ID: string, montant_total: number, transaction_date: string)

rule analyse_transactions : {t:Transaction, total:sum(t.montant_total)} /
    total > 10000 ==>
    print("Volume Ã©levÃ© de transactions")

Transaction(å®¢æˆ·ID: "CUST-001", montant_total: 5000, transaction_date: "2025-01-10")
Transaction(å®¢æˆ·ID: "CUST-001", montant_total: 6000, transaction_date: "2025-01-11")

// Contraintes d'accumulation avec UTF-8
rule comptage_ç”¨æˆ· : {t:Transaction} /
    count(t2:Transaction / t2.å®¢æˆ·ID == t.å®¢æˆ·ID) > 5 ==>
    print("Client fidÃ¨le")
