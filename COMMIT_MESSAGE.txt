feat(xuples): Automatisation complète du flow E2E avec pattern factory

OBJECTIF
========
Rendre les tests xuples vraiment end-to-end en automatisant la création
des xuple-spaces lors de l'ingestion, tout en évitant les cycles
d'importation entre rete et xuples.

PROBLÈME RÉSOLU
================
Avant cette implémentation :
- Le test E2E nécessitait 9 étapes dont 7 manuelles
- Création manuelle du XupleManager
- Création manuelle de chaque xuple-space
- Configuration manuelle du handler Xuple
- Enregistrement manuel de l'action Xuple
- Cycle d'importation potentiel : rete → xuples → rete

SOLUTION : PATTERN FACTORY
===========================
Injection de dépendance via factory configurée par l'appelant :

1. L'appelant (test/serveur) configure une factory avant l'ingestion
2. Le pipeline appelle automatiquement la factory lors de la détection
   des xuple-spaces
3. La factory crée les xuple-spaces, configure le handler et retourne
4. Le pipeline enregistre automatiquement l'action Xuple
5. Tout le reste est automatique

Avantages :
- ✅ Pas de cycle d'importation (rete ne dépend pas de xuples)
- ✅ Factory réutilisable (tests, serveur, CLI)
- ✅ Configuration une seule fois
- ✅ Un seul point d'entrée : IngestFile()

CHANGEMENTS
===========

1. rete/network.go
   - Ajout du type XupleSpaceFactoryFunc
   - Ajout du champ xupleSpaceFactory dans ReteNetwork
   - Ajout des méthodes SetXupleSpaceFactory/GetXupleSpaceFactory

2. rete/constraint_pipeline.go
   - Modification de createXupleSpaces() pour appeler la factory
   - Enregistrement automatique de l'action Xuple après création
   - Pas d'import de xuples (évite le cycle)

3. tests/e2e/xuples_e2e_test.go
   - Configuration de la factory avant IngestFile()
   - Simplification du test : 1 appel IngestFile() fait tout
   - Création manuelle temporaire des xuples (en attendant parser)
   - Génération d'un rapport détaillé

FLOW E2E FINAL
==============
```go
// Configuration (une seule fois)
network.SetXupleSpaceFactory(func(net, defs) {
    // Créer XupleManager et xuple-spaces
    // Configurer handler
})

// Un seul appel pour tout faire
network, metrics, err := pipeline.IngestFile(tsdFile, network, storage)

// Les xuple-spaces sont créés automatiquement !
```

RÉSULTATS DES TESTS
===================
✅ TestXuplesE2E_RealWorld : PASS
   - 3 xuple-spaces créés automatiquement
   - 6 xuples créés (2 critical, 1 warning, 3 commands)
   - Rapport détaillé généré

✅ Tous les tests rete passent
✅ Tous les tests xuples passent
✅ Aucune régression

MÉTRIQUES
=========
Réduction de complexité :
- Avant : 9 étapes (7 manuelles)
- Après : 4 étapes (3 automatiques)
- Gain : -56% d'étapes manuelles

DOCUMENTATION
=============
- XUPLES_E2E_AUTOMATIC.md : Documentation technique complète
- XUPLES_E2E_RESUME.md : Guide d'utilisation et résumé

LIMITATIONS ACTUELLES
=====================
Le parser TSD ne supporte pas encore la création de faits inline
dans les actions Xuple. Les xuples sont donc créés manuellement
dans le test en attendant cette fonctionnalité.

TODO: Étendre le parser pour supporter :
```tsd
rule example: {s: Sensor} / s.temperature > 40.0 ==>
    Xuple("alerts", Alert(level: "CRITICAL", sensorId: s.sensorId))
```

PROCHAINES ÉTAPES
=================
1. [Court terme] Parser TSD : faits inline dans actions
2. [Court terme] Supprimer création manuelle xuples dans test
3. [Moyen terme] Helper factory générique réutilisable
4. [Long terme] Intégration serveur avec factory par défaut

BREAKING CHANGES
================
Aucun - Changements rétrocompatibles.
La factory est optionnelle : si non configurée, le pipeline stocke
simplement les définitions sans créer les xuple-spaces.

---
Signed-off-by: AI Assistant
Conforme aux standards de develop.md
