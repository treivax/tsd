// Tests complets des nœuds Alpha - Tous opérateurs et types de données
// Couvre tous les cas de succès et d'échec avec le pipeline complet

// Types de test
type TestPerson : <name: string, age: number, salary: number, active: bool, score: number>
type TestProduct : <name: string, price: number, category: string, available: bool, rating: number>

// === TESTS ÉGALITÉ (== et =) ===

// Test égalité string
rule r1 : {p: TestPerson} / p.name == "Alice" ==> test_string_equality_success(p.name)

// Test égalité number entier
rule r2 : {p: TestPerson} / p.age == 25 ==> test_number_equality_success(p.name)

// Test égalité number décimal
rule r3 : {prod: TestProduct} / prod.price == 99.99 ==> test_decimal_equality_success(prod.name)

// Test égalité boolean true
rule r4 : {p: TestPerson} / p.active == true ==> test_boolean_true_success(p.name)

// Test égalité boolean false
rule r5 : {prod: TestProduct} / prod.available == false ==> test_boolean_false_success(prod.name)

// Test égalité avec opérateur alternatif =
rule r6 : {p: TestPerson} / p.name == "Bob" ==> test_alt_equality_success(p.name)

// === TESTS INÉGALITÉ (!= et <>) ===

// Test inégalité string
rule r7 : {p: TestPerson} / p.name != "Charlie" ==> test_string_inequality_success(p.name)

// Test inégalité number
rule r8 : {p: TestPerson} / p.age != 30 ==> test_number_inequality_success(p.name)

// Test inégalité boolean
rule r9 : {p: TestPerson} / p.active != false ==> test_boolean_inequality_success(p.name)

// Test inégalité avec opérateur alternatif !=
rule r10 : {prod: TestProduct} / prod.category != "Electronics" ==> test_alt_inequality_success(prod.name)

// === TESTS COMPARAISONS NUMÉRIQUES (<, <=, >, >=) ===

// Test inférieur strict <
rule r11 : {p: TestPerson} / p.age < 30 ==> test_less_than_success(p.name)

// Test inférieur ou égal <=
rule r12 : {p: TestPerson} / p.salary <= 50000 ==> test_less_equal_success(p.name)

// Test supérieur strict >
rule r13 : {p: TestPerson} / p.score > 85.5 ==> test_greater_than_success(p.name)

// Test supérieur ou égal >=
rule r14 : {prod: TestProduct} / prod.rating >= 4.0 ==> test_greater_equal_success(prod.name)

// === TESTS COMPARAISONS STRING (lexicographique) ===

// Test string inférieur
rule r15 : {p: TestPerson} / p.name < "M" ==> test_string_less_success(p.name)

// Test string supérieur
rule r16 : {prod: TestProduct} / prod.name > "Product_A" ==> test_string_greater_success(prod.name)

// === TESTS CAS LIMITES ET VALEURS SPÉCIALES ===

// Test avec zéro
rule r17 : {p: TestPerson} / p.age > 0 ==> test_positive_age_success(p.name)

// Test avec valeur négative
rule r18 : {p: TestPerson} / p.salary >= -1000 ==> test_negative_handling_success(p.name)

// Test avec décimales
rule r19 : {prod: TestProduct} / prod.price <= 999.99 ==> test_decimal_comparison_success(prod.name)

// Test égalité exacte décimale
rule r20 : {prod: TestProduct} / prod.rating == 3.14159 ==> test_precise_decimal_success(prod.name)

// === TESTS COMBINAISONS DE TYPES ===

// Test age exactement 18 (majorité)
rule r21 : {p: TestPerson} / p.age == 18 ==> test_exact_age_success(p.name)

// Test senior (65+)
rule r22 : {p: TestPerson} / p.age >= 65 ==> test_senior_success(p.name)

// Test mineur (< 18)
rule r23 : {p: TestPerson} / p.age < 18 ==> test_minor_success(p.name)

// Test salaire élevé
rule r24 : {p: TestPerson} / p.salary > 100000 ==> test_high_salary_success(p.name)

// Test produit gratuit
rule r25 : {prod: TestProduct} / prod.price == 0 ==> test_free_product_success(prod.name)

// Test produit cher
rule r26 : {prod: TestProduct} / prod.price > 1000 ==> test_expensive_product_success(prod.name)

// Test note parfaite
rule r27 : {prod: TestProduct} / prod.rating == 5.0 ==> test_perfect_rating_success(prod.name)

// Test note faible
rule r28 : {prod: TestProduct} / prod.rating < 2.0 ==> test_low_rating_success(prod.name)
