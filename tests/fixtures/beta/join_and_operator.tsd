// Test opÃ©rateur AND dans jointures beta
type Person(#id: string, name: string, age: number, status: string)
type Order(#id: string, customer_id: string, amount: number, status: string)


// Action definitions
action adult_confirmed_order(arg1: string, arg2: string)
action medium_value_order(arg1: string, arg2: string)
action high_value_order(arg1: string, arg2: string)

rule r1 : {p: Person, o: Order} / p.id == o.customer_id AND o.amount > 100 AND p.status == "active" ==> high_value_order(p.id, o.id)
rule r2 : {p: Person, o: Order} / p.id == o.customer_id AND p.age >= 18 AND o.status == "confirmed" AND p.status == "active" ==> adult_confirmed_order(p.id, o.id)
rule r3 : {p: Person, o: Order} / p.id == o.customer_id AND o.amount >= 50 AND o.amount <= 500 AND p.age > 21 ==> medium_value_order(p.id, o.id)

Person(id:P001, name:Alice, age:25, status:active)
Person(id:P002, name:Bob, age:30, status:inactive)
Person(id:P003, name:Charlie, age:16, status:active)
Person(id:P004, name:Diana, age:22, status:active)
Order(id:O001, customer_id:P001, amount:150, status:confirmed)
Order(id:O002, customer_id:P002, amount:75, status:pending)
Order(id:O003, customer_id:P001, amount:200, status:confirmed)
Order(id:O004, customer_id:P003, amount:300, status:confirmed)
Order(id:O005, customer_id:P004, amount:125, status:confirmed)
